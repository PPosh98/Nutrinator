{"mappings":"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","sources":["src/js/model.js","src/js/views/view.js","src/js/views/mealsView.js","src/js/views/addMealView.js","src/js/views/editMealView.js","src/js/views/selectedMealsView.js","src/js/views/unselectedMealsView.js","src/js/views/resultsView.js","src/js/views/caloriesView.js","src/js/views/addCaloriesView.js","src/js/controller.js"],"sourcesContent":["const RAPIDKEY = \"d9a2df86c9msh3b2e2eae8db07e7p12b659jsn624e4569d224\";\r\n\r\nconst SPKey = \"6079577d1f3348e2a518bb9972c92fa7\";\r\n\r\nexport const state = {\r\n  allNutrition: [],\r\n  userNutrition: {},\r\n  mealsNutrition: [],\r\n  totalNutrition: {},\r\n  meals: {\r\n    selectedMeals: [],\r\n    unselectedMeals: [],\r\n    id: 0\r\n  },\r\n  ingredientList: []\r\n};\r\n\r\nconst nutrObj = {\r\n  calories: \"\",\r\n  protein: \"\",\r\n  fat: \"\",\r\n  carbohydrates: \"\",\r\n  fiber: \"\",\r\n  sugar: \"\",\r\n  sodium: \"\",\r\n  cholesterol: \"\",\r\n  iron: \"\",\r\n  potassium: \"\",\r\n  calcium: \"\",\r\n  vitamin_d: \"\"\r\n};\r\n\r\nexport const showNutrition = async function () {\r\n  try {\r\n    state.ingredientList = [];\r\n    state.meals.selectedMeals.forEach(function (meal) {\r\n      meal.ingredientList.forEach(function (ingredient) {\r\n        let ingreArray = ingredient.split(\"+\");\r\n        ingreArray.splice(0, 1, String(Number(ingreArray[0]) / meal.servings));\r\n        state.ingredientList.push(ingreArray.join(\"+\"));\r\n      });\r\n      console.log(state.ingredientList);\r\n    });\r\n\r\n    const ingredientList = `ingredientList=${state.ingredientList.join(\"%0A\")}`;\r\n\r\n    const res = await fetch(\r\n      `https://api.spoonacular.com/recipes/parseIngredients?includeNutrition=true&apiKey=${SPKey}`,\r\n      {\r\n        method: \"POST\",\r\n        body: ingredientList\r\n      }\r\n    );\r\n    const data = await res.json();\r\n\r\n    data.forEach(function (ingredient) {\r\n      ingredient.nutrition.nutrients.forEach(function (nutrient) {\r\n        Object.hasOwn(nutrObj, nutrient.name.toLowerCase().replace(\" \", \"_\"))\r\n          ? state.mealsNutrition.push(nutrient)\r\n          : \"\";\r\n      });\r\n    });\r\n    console.log(state.mealsNutrition);\r\n\r\n    state.totalNutrition = groupBy(state.mealsNutrition, \"name\");\r\n    console.log(state.totalNutrition);\r\n\r\n    state.allNutrition = state.totalNutrition.map((nutrient) => {\r\n      return {\r\n        nutrient: nutrient.name,\r\n        unit: nutrient.unit,\r\n        mealsAmount: nutrient.amount.toFixed(2),\r\n        userReqAmount:\r\n          state.userNutrition[nutrient.name.toLowerCase().replace(\" \", \"_\")]\r\n      };\r\n    });\r\n\r\n    console.log(state.allNutrition);\r\n\r\n    console.log(data);\r\n  } catch (error) {\r\n    alert(error);\r\n  }\r\n};\r\n\r\nexport const createMeal = function (searchParamsStrArr, searchParamsStr) {\r\n  state.meals.selectedMeals.push({\r\n    id: Number(searchParamsStrArr[0].substring(3)),\r\n    mealName: searchParamsStrArr[1].substring(10).replaceAll(\"+\", \" \"),\r\n    servings: Number(searchParamsStrArr[2].substring(14)),\r\n    ingredientList: searchParamsStrArr[3].substring(17).split(\"%0A\"),\r\n    searchParamsStr: searchParamsStr\r\n  });\r\n  state.meals.id = state.meals.selectedMeals.at(-1).id + 1;\r\n  persistMeals();\r\n};\r\n\r\nexport const moveMeal = function (mealData) {\r\n  const mealDataArr = mealData.split(\"&\");\r\n  const id = Number(mealDataArr[0].substring(3));\r\n\r\n  let objectIndex = state.meals.selectedMeals.findIndex(\r\n    (meal) => meal.id === id\r\n  );\r\n  if (objectIndex !== -1) {\r\n    state.meals.unselectedMeals.push(\r\n      ...state.meals.selectedMeals.splice(objectIndex, 1)\r\n    );\r\n  } else {\r\n    objectIndex = state.meals.unselectedMeals.findIndex(\r\n      (meal) => meal.id === id\r\n    );\r\n    state.meals.selectedMeals.push(\r\n      ...state.meals.unselectedMeals.splice(objectIndex, 1)\r\n    );\r\n  }\r\n  persistMeals();\r\n};\r\n\r\nexport const deleteMeal = function (mealData) {\r\n  const mealDataArr = mealData.split(\"&\");\r\n  const id = Number(mealDataArr[0].substring(3));\r\n\r\n  let objectIndex = state.meals.selectedMeals.findIndex(\r\n    (meal) => meal.id === id\r\n  );\r\n\r\n  if (objectIndex !== -1) state.meals.selectedMeals.splice(objectIndex, 1);\r\n  else {\r\n    objectIndex = state.meals.unselectedMeals.findIndex(\r\n      (meal) => meal.id === id\r\n    );\r\n    state.meals.unselectedMeals.splice(objectIndex, 1);\r\n  }\r\n  persistMeals();\r\n};\r\n\r\nexport const editMeal = function (mealData) {\r\n  const mealDataArr = mealData.split(\"&\");\r\n  const mealName = mealDataArr[1].substring(10).replaceAll(\"+\", \" \");\r\n  const servings = Number(mealDataArr[2].substring(14));\r\n  const ingredientList = mealDataArr[3].substring(17).split(\"%0A\");\r\n  const id = Number(mealDataArr[0].substring(3));\r\n\r\n  let objectIndex = state.meals.selectedMeals.findIndex(\r\n    (meal) => meal.id === id\r\n  );\r\n\r\n  if (objectIndex !== -1) {\r\n    state.meals.selectedMeals.at(objectIndex).mealName = mealName;\r\n    state.meals.selectedMeals.at(objectIndex).servings = servings;\r\n    state.meals.selectedMeals.at(objectIndex).ingredientList = ingredientList;\r\n    state.meals.selectedMeals.at(objectIndex).searchParamsStr = mealData;\r\n  } else {\r\n    objectIndex = state.meals.unselectedMeals.findIndex(\r\n      (meal) => meal.id === id\r\n    );\r\n    state.meals.unselectedMeals.at(objectIndex).mealName = mealName;\r\n    state.meals.unselectedMeals.at(objectIndex).servings = servings;\r\n    state.meals.unselectedMeals.at(objectIndex).ingredientList = ingredientList;\r\n    state.meals.unselectedMeals.at(objectIndex).searchParamsStr = mealData;\r\n  }\r\n  persistMeals();\r\n};\r\n\r\nexport const calcUserNutrition = function (calories) {\r\n  const proteinLow = ((calories * 0.1) / 4).toFixed(2);\r\n  const proteinHigh = ((calories * 0.35) / 4).toFixed(2);\r\n  console.log(\"Protein: \" + proteinLow + \"-\" + proteinHigh);\r\n  const fibre = (calories * 0.014).toFixed(2);\r\n  console.log(\"Fibre: \" + fibre);\r\n  const fat = ((calories * 0.3) / 9).toFixed(2);\r\n  console.log(\"Fat: \" + fat);\r\n  const carbsLow = ((calories * 0.45) / 4).toFixed(2);\r\n  const carbsHigh = ((calories * 0.65) / 4).toFixed(2);\r\n  console.log(\"Carbs: \" + carbsLow + \"-\" + carbsHigh);\r\n\r\n  state.userNutrition = {\r\n    calories: calories,\r\n    protein: `${proteinLow}-${proteinHigh}`,\r\n    fat: fat,\r\n    carbohydrates: `${carbsLow}-${carbsHigh}`,\r\n    fiber: `${fibre}^`,\r\n    sugar: `${30}*`,\r\n    sodium: `${500}-${2300}`,\r\n    cholesterol: `${200}*`,\r\n    iron: `${8.7}-${14.8}~`,\r\n    potassium: `${3500}-${4700}`,\r\n    calcium: `${700}-${1300}`,\r\n    vitamin_d: `${25}-${50}`\r\n  };\r\n\r\n  persistUserNutrition();\r\n};\r\n\r\nconst persistUserNutrition = function () {\r\n  localStorage.setItem(\"userNutrition\", JSON.stringify(state.userNutrition));\r\n};\r\n\r\nconst persistMeals = function () {\r\n  localStorage.setItem(\"meals\", JSON.stringify(state.meals));\r\n};\r\n\r\nconst groupBy = function (arr, key) {\r\n  return arr\r\n    .sort((a, b) => a[key].localeCompare(b[key]))\r\n    .reduce((total, currentValue) => {\r\n      const newTotal = total;\r\n      if (total.length && total[total.length - 1][key] === currentValue[key])\r\n        newTotal[total.length - 1] = {\r\n          ...total[total.length - 1],\r\n          ...currentValue,\r\n          amount: total[total.length - 1].amount + currentValue.amount\r\n        };\r\n      else newTotal[total.length] = currentValue;\r\n      return newTotal;\r\n    }, []);\r\n};\r\n\r\nconst init = function () {\r\n  const storedUserNutrition = localStorage.getItem(\"userNutrition\");\r\n  if (storedUserNutrition)\r\n    state.userNutrition = JSON.parse(storedUserNutrition);\r\n\r\n  const storedMeals = localStorage.getItem(\"meals\");\r\n  if (storedMeals) state.meals = JSON.parse(storedMeals);\r\n};\r\n\r\ninit();\r\n","export default class View {\r\n  // #parentElement = document.querySelector(\"body\");\r\n  #data;\r\n\r\n  render(data) {\r\n    if (!data || (Array.isArray(data) && data.length === 0))\r\n      return this.renderError();\r\n    this.setData(data);\r\n\r\n    const markup = this.getMarkup();\r\n\r\n    this.clear();\r\n    this.getParentElement().insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n\r\n  update(data) {\r\n    this.setData(data);\r\n    const newMarkup = this.getMarkup();\r\n\r\n    const newDOM = document.createRange().createContextualFragment(newMarkup);\r\n    const newElements = Array.from(newDOM.querySelectorAll(\"*\"));\r\n    const curElements = Array.from(\r\n      this.getParentElement().querySelectorAll(\"*\")\r\n    );\r\n\r\n    newElements.forEach((newEl, i) => {\r\n      const curEl = curElements[i];\r\n      // console.log(curEl, newEl.isEqualNode(curEl));\r\n\r\n      // Updates changed TEXT\r\n      if (\r\n        !newEl.isEqualNode(curEl) &&\r\n        newEl.firstChild?.nodeValue.trim() !== \"\"\r\n      ) {\r\n        // console.log('💥', newEl.firstChild.nodeValue.trim());\r\n        curEl.textContent = newEl.textContent;\r\n      }\r\n\r\n      // Updates changed ATTRIBUES\r\n      if (!newEl.isEqualNode(curEl))\r\n        Array.from(newEl.attributes).forEach((attr) =>\r\n          curEl.setAttribute(attr.name, attr.value)\r\n        );\r\n    });\r\n  }\r\n\r\n  clear() {\r\n    this.getParentElement().innerHTML = \"\";\r\n  }\r\n\r\n  renderSpinner() {}\r\n\r\n  renderError(message = this.getErrorMessage()) {\r\n    const markup = `<p>${message}</p>`;\r\n\r\n    this.clear();\r\n    this.getParentElement().insertAdjacentHTML(\"afterbegin\", markup);\r\n  }\r\n\r\n  renderMessage(message = this.getMessage()) {\r\n    const markup = `\r\n      <p>${message}</p>\r\n    `;\r\n    this.getMessageDiv().innerHTML = markup;\r\n    this.getMessageDiv().classList.toggle(\"hidden\");\r\n    setTimeout(() => {\r\n      this.getMessageDiv().classList.toggle(\"hidden\");\r\n    }, 3000);\r\n  }\r\n\r\n  setData(data) {\r\n    this.#data = data;\r\n  }\r\n\r\n  getData() {\r\n    return this.#data;\r\n  }\r\n}\r\n","import View from \"./view.js\";\r\n\r\nclass MealsView extends View {\r\n  #errorMessage =\r\n    \"You don't have any meals here, create one now by clicking the 'Create Meal' button!\";\r\n  #parentElement = document.getElementById(\"views\");\r\n\r\n  constructor() {\r\n    super();\r\n    this.getParentElement().innerHTML = this.getMarkup();\r\n  }\r\n\r\n  addHandlerRender(handler) {\r\n    window.addEventListener(\"load\", handler);\r\n  }\r\n\r\n  addHandlerGetNutrition(handler) {\r\n    const btnNutritionalise = document.getElementById(\"btn-nutritionalise\");\r\n    btnNutritionalise.addEventListener(\"click\", handler);\r\n  }\r\n\r\n  addHandlerControls(handler) {\r\n    const meals = document.getElementById(\"meals\");\r\n    meals.addEventListener(\"click\", function (e) {\r\n      if (e.target.classList.contains(\"meal-icon\"))\r\n        handler(e.target.id, e.target.closest(\"div .meal\").dataset.meal);\r\n    });\r\n  }\r\n\r\n  #generateMarkup() {\r\n    return `\r\n      <div id=\"my-meals-view\">\r\n        <div id=\"greetings-section\">\r\n          <h1 id=\"greeting\">Hi, welcome!</h1>\r\n          <span\r\n            >Begin by entering your calories requirement by clicking the Edit button, then create\r\n            some meals and finally get their nutritional data by hitting the\r\n            NUTRITIONALISE button!\r\n          </span>\r\n        </div>\r\n        <div id=\"calories-section\">\r\n          <p>My calories requirement:</p>\r\n          <div id=\"calories\"></div>\r\n          <button id=\"btn-edit\" class=\"btn-submit\">Edit</button>\r\n        </div>\r\n        <div id=\"meals\">\r\n          <div id=\"selected-meals-section\">\r\n            <span id=\"header-selected-meals\"><b>Selected Meals</b></span>\r\n            <button id=\"btn-nutritionalise\" class=\"btn-submit\">NUTRITIONALISE</button>\r\n            <button id=\"btn-create-meal\" class=\"btn-submit\">Create Meal</button>\r\n            <hr class=\"horizontal-lines\" />\r\n            <div id=\"selected-meals\"></div>\r\n          </div>\r\n          <div id=\"meals-repo-section\">\r\n            <span id=\"header-meals-repo\"><b>Meals Repository</b></span>\r\n            <hr class=\"horizontal-lines\" />\r\n            <div id=\"meals-repo\"></div>\r\n          </div>\r\n        </div>\r\n      </div>`;\r\n  }\r\n\r\n  getMarkup() {\r\n    return this.#generateMarkup();\r\n  }\r\n\r\n  getParentElement() {\r\n    return this.#parentElement;\r\n  }\r\n\r\n  getErrorMessage() {\r\n    return this.#errorMessage;\r\n  }\r\n}\r\n\r\nexport default new MealsView();\r\n","import View from \"./view.js\";\r\n\r\nexport default class AddMealView extends View {\r\n  #parentElement = document.getElementById(\"form-create-meal\");\r\n  #message = \"Meal was created successfully! 🥳\";\r\n\r\n  #window = document.getElementById(\"create-meal-window\");\r\n  #overlay = document.getElementById(\"overlay-create\");\r\n  #btnOpen = document.getElementById(\"btn-create-meal\");\r\n  #btnClose = document.getElementById(\"btn-close-create\");\r\n  #messageDiv = document.getElementById(\"message-create\");\r\n  #inputMealName = document.getElementById(\"meal-name-create\");\r\n  #inputServings = document.getElementById(\"servings-create\");\r\n  #inputIngredients = document.getElementById(\"ingredients-create\");\r\n\r\n  #searchParamsStr;\r\n  static mealId = 0;\r\n\r\n  constructor() {\r\n    super();\r\n    this.#addHandlerShowWindow();\r\n    this.#addHandlerHideWindow();\r\n  }\r\n\r\n  toggleWindow() {\r\n    this.#overlay.classList.toggle(\"hidden\");\r\n    this.#window.classList.toggle(\"hidden\");\r\n  }\r\n\r\n  #addHandlerShowWindow() {\r\n    this.#btnOpen.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n  }\r\n\r\n  #addHandlerHideWindow() {\r\n    this.#btnClose.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n    this.#overlay.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n  }\r\n\r\n  addHandlerCreateMeal(handler) {\r\n    this.getParentElement().addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n\r\n      const formData = new FormData(this.getParentElement());\r\n      const searchParams = new URLSearchParams();\r\n\r\n      for (const pair of formData) {\r\n        searchParams.append(pair[0], pair[1]);\r\n      }\r\n\r\n      this.#searchParamsStr = `id=${AddMealView.mealId++}&${searchParams.toString()}`;\r\n      const searchParamsStrArr = this.#searchParamsStr.split(\"&\");\r\n\r\n      handler(searchParamsStrArr, this.#searchParamsStr);\r\n\r\n      this.#inputIngredients.value = \"\";\r\n      this.#inputMealName.value = \"\";\r\n      this.#inputServings.value = \"\";\r\n    });\r\n  }\r\n\r\n  getParentElement() {\r\n    return this.#parentElement;\r\n  }\r\n\r\n  getMessage() {\r\n    return this.#message;\r\n  }\r\n\r\n  getMessageDiv() {\r\n    return this.#messageDiv;\r\n  }\r\n}\r\n","import View from \"./view.js\";\r\n\r\nclass EditMealView extends View {\r\n  #parentElement = document.getElementById(\"form-update-meal\");\r\n  #message = \"Meal was updated successfully! 🎉\";\r\n\r\n  #window = document.getElementById(\"update-meal-window\");\r\n  #overlay = document.getElementById(\"overlay-update\");\r\n  #btnClose = document.getElementById(\"btn-close-update\");\r\n  #inputMealName = document.getElementById(\"meal-name-update\");\r\n  #inputServings = document.getElementById(\"servings-update\");\r\n  #inputIngredients = document.getElementById(\"ingredients-update\");\r\n  #messageDiv = document.getElementById(\"message-update\");\r\n\r\n  #searchParamsStr;\r\n  #mealId;\r\n\r\n  constructor() {\r\n    super();\r\n    this.#addHandlerHideWindow();\r\n  }\r\n\r\n  openWindow(mealData) {\r\n    const searchParamsStrArr = mealData.split(\"&\");\r\n    this.#mealId = Number(searchParamsStrArr[0].substring(3));\r\n    const mealName = searchParamsStrArr[1].substring(10).replaceAll(\"+\", \" \");\r\n    const servings = Number(searchParamsStrArr[2].substring(14));\r\n    const ingredientList = searchParamsStrArr[3].substring(17).split(\"%0A\");\r\n\r\n    this.toggleWindow();\r\n\r\n    const ingredients = ingredientList\r\n      .map((ingredient) => {\r\n        return ingredient.replaceAll(\"+\", \" \");\r\n      })\r\n      .join(\"\\n\");\r\n\r\n    this.#inputIngredients.value = ingredients;\r\n    this.#inputMealName.value = mealName;\r\n    this.#inputServings.value = servings;\r\n  }\r\n\r\n  toggleWindow() {\r\n    this.#overlay.classList.toggle(\"hidden\");\r\n    this.#window.classList.toggle(\"hidden\");\r\n  }\r\n\r\n  #addHandlerHideWindow() {\r\n    this.#btnClose.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n    this.#overlay.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n  }\r\n\r\n  addHandlerUpdateMeal(handler) {\r\n    this.getParentElement().addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n\r\n      const formData = new FormData(this.getParentElement());\r\n      const searchParams = new URLSearchParams();\r\n\r\n      for (const pair of formData) {\r\n        searchParams.append(pair[0], pair[1]);\r\n      }\r\n\r\n      this.#searchParamsStr = `id=${this.#mealId}&${searchParams.toString()}`;\r\n\r\n      handler(this.#searchParamsStr);\r\n    });\r\n  }\r\n\r\n  getParentElement() {\r\n    return this.#parentElement;\r\n  }\r\n\r\n  getMessage() {\r\n    return this.#message;\r\n  }\r\n\r\n  getMessageDiv() {\r\n    return this.#messageDiv;\r\n  }\r\n}\r\n\r\nexport default new EditMealView();\r\n","import View from \"./view.js\";\r\n\r\nclass SelectedMealsView extends View {\r\n  #parentElement = document.getElementById(\"selected-meals\");\r\n  #errorMessage =\r\n    \"You don't have any meals here, add one from the repository below or create one now by clicking the 'Create Meal' button!\";\r\n\r\n  #generateMarkup() {\r\n    return this.getData()\r\n      .map((meal) => {\r\n        this.setData(meal);\r\n        return this.getMealMarkup();\r\n      })\r\n      .join(\"\");\r\n  }\r\n\r\n  getMarkup() {\r\n    return this.#generateMarkup();\r\n  }\r\n\r\n  #generateMealMarkup() {\r\n    return `\r\n      <div class=\"meal\" data-meal=\"${this.getData().searchParamsStr}\">\r\n        <span class=\"meal-name\">${this.getData().mealName}</span>\r\n        <div id=\"meal-icons\">\r\n          <img\r\n            id=\"meal-edit\"\r\n            class=\"meal-icon\"\r\n            src=\"src/img/icons/edit.png\"\r\n            alt=\"edit\"\r\n            title=\"Edit Meal\"\r\n          />\r\n          <img\r\n            id=\"meal-bin\"\r\n            class=\"meal-icon\"\r\n            src=\"src/img/icons/bin.png\"\r\n            alt=\"bin\"\r\n            title=\"Delete Meal\"\r\n          />\r\n          <img\r\n            id=\"meal-remove\"\r\n            class=\"meal-icon\"\r\n            src=\"src/img/icons/minus.png\"\r\n            alt=\"remove\"\r\n            title=\"Move to Meals Repository\"\r\n          />\r\n        </div>\r\n      </div>`;\r\n  }\r\n\r\n  getMealMarkup() {\r\n    return this.#generateMealMarkup();\r\n  }\r\n\r\n  getParentElement() {\r\n    return this.#parentElement;\r\n  }\r\n\r\n  getErrorMessage() {\r\n    return this.#errorMessage;\r\n  }\r\n}\r\n\r\nexport default new SelectedMealsView();\r\n","import View from \"./view.js\";\r\n\r\nclass UnselectedMealsView extends View {\r\n  #parentElement = document.getElementById(\"meals-repo\");\r\n  #errorMessage = \"No meals to be found here...\";\r\n\r\n  #generateMarkup() {\r\n    return this.getData()\r\n      .map((meal) => {\r\n        this.setData(meal);\r\n        return this.getMealMarkup();\r\n      })\r\n      .join(\"\");\r\n  }\r\n\r\n  getMarkup() {\r\n    return this.#generateMarkup();\r\n  }\r\n\r\n  #generateMealMarkup() {\r\n    return `\r\n      <div class=\"meal\" data-meal=\"${this.getData().searchParamsStr}\">\r\n        <span class=\"meal-name\">${this.getData().mealName}</span>\r\n        <div id=\"meal-icons\">\r\n          <img\r\n            id=\"meal-edit\"\r\n            class=\"meal-icon\"\r\n            src=\"src/img/icons/edit.png\"\r\n            alt=\"edit\"\r\n            title=\"Edit Meal\"\r\n          />\r\n          <img\r\n            id=\"meal-bin\"\r\n            class=\"meal-icon\"\r\n            src=\"src/img/icons/bin.png\"\r\n            alt=\"bin\"\r\n            title=\"Delete Meal\"\r\n          />\r\n          <img\r\n            id=\"meal-add\"\r\n            class=\"meal-icon\"\r\n            src=\"src/img/icons/add.png\"\r\n            alt=\"add\"\r\n            title=\"Add to Selected Meals\"\r\n          />\r\n        </div>\r\n      </div>`;\r\n  }\r\n\r\n  getMealMarkup() {\r\n    return this.#generateMealMarkup();\r\n  }\r\n\r\n  getParentElement() {\r\n    return this.#parentElement;\r\n  }\r\n\r\n  getErrorMessage() {\r\n    return this.#errorMessage;\r\n  }\r\n}\r\n\r\nexport default new UnselectedMealsView();\r\n","import View from \"./view.js\";\r\n\r\nclass ResultsView extends View {\r\n  #errorMessage =\r\n    \"You don't have any meals here, create one now by clicking the 'Create Meal' button!\";\r\n  #parentElement = document.getElementById(\"views\");\r\n\r\n  constructor() {\r\n    super();\r\n    this.drawChart();\r\n  }\r\n\r\n  drawChart() {\r\n    google.charts.load(\"current\", { packages: [\"corechart\"] });\r\n    google.charts.setOnLoadCallback(drawChart);\r\n    function drawChart() {\r\n      var data = google.visualization.arrayToDataTable([\r\n        [\"Task\", \"Hours per Day\"],\r\n        [\"Work\", 11]\r\n      ]);\r\n\r\n      var options1 = {\r\n        pieHole: 0.7,\r\n        backgroundColor: \"white\",\r\n        chartArea: {\r\n          width: 170,\r\n          height: 170\r\n        },\r\n        width: 200,\r\n        height: 200,\r\n        legend: {\r\n          position: \"top\",\r\n          alignment: \"center\"\r\n        }\r\n      };\r\n\r\n      var options2 = {\r\n        pieHole: 0.7,\r\n        backgroundColor: \"white\",\r\n        chartArea: {\r\n          width: 170,\r\n          height: 170\r\n        },\r\n        width: 200,\r\n        height: 200,\r\n        legend: {\r\n          position: \"top\",\r\n          alignment: \"center\"\r\n        }\r\n      };\r\n\r\n      var chart1 = new google.visualization.PieChart(\r\n        document.getElementById(\"donutchart1\")\r\n      );\r\n      chart1.draw(data, options1);\r\n\r\n      var chart2 = new google.visualization.PieChart(\r\n        document.getElementById(\"donutchart2\")\r\n      );\r\n      chart2.draw(data, options2);\r\n    }\r\n  }\r\n\r\n  #generateMarkup() {\r\n    return `\r\n\t\t\t<div id=\"results-view\">\r\n\t\t\t\t<div id=\"charts\">\r\n\t\t\t\t\t<div id=\"donutchart1\" class=\"chart\"></div>\r\n\t\t\t\t\t<div id=\"donutchart2\" class=\"chart\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h2 id=\"header-nutrition-table\">Table of Nutrition</h3>\r\n\t\t\t\t<table id=\"nutrition-table\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>You Require</th>\r\n\t\t\t\t\t\t\t<th>Nutrient(unit)</th>\r\n\t\t\t\t\t\t\t<th>You Consume</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n            ${this.getData().map(this.#generateRowMarkup).join(\"\")}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t<button class=\"btn-submit\">Select Other Meal(s)</button>\r\n\t\t\t</div>`;\r\n  }\r\n\r\n  getMarkup() {\r\n    return this.#generateMarkup();\r\n  }\r\n\r\n  #generateRowMarkup(data) {\r\n    return `\r\n      <tr>\r\n        <td>${data.userReqAmount}</td>\r\n        <td>${data.nutrient}(${data.unit})</td>\r\n        <td>${data.mealsAmount}</td>\r\n      </tr>`;\r\n  }\r\n\r\n  getParentElement() {\r\n    return this.#parentElement;\r\n  }\r\n\r\n  getErrorMessage() {\r\n    return this.#errorMessage;\r\n  }\r\n}\r\n\r\nexport default new ResultsView();\r\n","import View from \"./view.js\";\r\n\r\nclass CaloriesView extends View {\r\n  #parentElement = document.getElementById(\"calories\");\r\n  #errorMessage = \"NA\";\r\n\r\n  #generateMarkup() {\r\n    return `\r\n\t\t\t<h1 id=\"calories-value\">${this.getData()}<span id=\"kcal\">kcal</span></h1>`;\r\n  }\r\n\r\n  getMarkup() {\r\n    return this.#generateMarkup();\r\n  }\r\n\r\n  getParentElement() {\r\n    return this.#parentElement;\r\n  }\r\n\r\n  getErrorMessage() {\r\n    return this.#errorMessage;\r\n  }\r\n}\r\n\r\nexport default new CaloriesView();\r\n","import View from \"./view.js\";\r\n\r\nclass AddCaloriesView extends View {\r\n  #parentElement = document.getElementById(\"form-save-calories\");\r\n  #message = \"Calories saved successfully! 🎈\";\r\n\r\n  #window = document.getElementById(\"calories-window\");\r\n  #overlay = document.getElementById(\"overlay-calories\");\r\n  #btnOpen = document.getElementById(\"btn-edit\");\r\n  #btnClose = document.getElementById(\"btn-close-calories\");\r\n  #messageDiv = document.getElementById(\"message-save\");\r\n\r\n  constructor() {\r\n    super();\r\n    this.#addHandlerShowWindow();\r\n    this.#addHandlerHideWindow();\r\n  }\r\n\r\n  toggleWindow() {\r\n    this.#overlay.classList.toggle(\"hidden\");\r\n    this.#window.classList.toggle(\"hidden\");\r\n  }\r\n\r\n  #addHandlerShowWindow() {\r\n    this.#btnOpen.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n  }\r\n\r\n  #addHandlerHideWindow() {\r\n    this.#btnClose.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n    this.#overlay.addEventListener(\"click\", this.toggleWindow.bind(this));\r\n  }\r\n\r\n  addHandlerAddCalories(handler) {\r\n    this.#parentElement.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      const inputCalories = document.getElementById(\"input-calories\").value;\r\n\r\n      handler(Number(inputCalories));\r\n\r\n      document.getElementById(\r\n        \"calories-value\"\r\n      ).innerHTML = `${inputCalories}<span id=\"kcal\">kcal</span>`;\r\n    });\r\n  }\r\n\r\n  getMessage() {\r\n    return this.#message;\r\n  }\r\n\r\n  getMessageDiv() {\r\n    return this.#messageDiv;\r\n  }\r\n}\r\n\r\nexport default new AddCaloriesView();\r\n","import * as model from \"./model.js\";\r\nimport mealsView from \"./views/mealsView.js\";\r\nimport AddMealView from \"./views/addMealView.js\";\r\nconst addMealView = new AddMealView();\r\nimport editMealView from \"./views/editMealView.js\";\r\nimport selectedMealsView from \"./views/selectedMealsView.js\";\r\nimport unselectedMealsView from \"./views/unselectedMealsView.js\";\r\nimport resultsView from \"./views/resultsView.js\";\r\nimport caloriesView from \"./views/caloriesView.js\";\r\nimport addCaloriesView from \"./views/addCaloriesView.js\";\r\n\r\nconst controlAddCalories = function (calories) {\r\n  model.calcUserNutrition(calories);\r\n\r\n  addCaloriesView.renderMessage();\r\n};\r\n\r\nconst controlMeals = function () {\r\n  caloriesView.render(model.state.userNutrition.calories);\r\n  renderMeals();\r\n  AddMealView.mealId = model.state.meals.id;\r\n};\r\n\r\nconst controlCreateMeal = function (searchParamsStrArr, searchParamsStr) {\r\n  model.createMeal(searchParamsStrArr, searchParamsStr);\r\n\r\n  addMealView.renderMessage();\r\n\r\n  renderMeals();\r\n};\r\n\r\nconst controlGetNutrition = async function () {\r\n  await model.showNutrition();\r\n  resultsView.render(model.state.allNutrition);\r\n};\r\n\r\nconst controlOperations = function (operation, mealData) {\r\n  const controlEditMeal = () => {\r\n    editMealView.openWindow(mealData);\r\n  };\r\n  const controlDeleteMeal = () => model.deleteMeal(mealData);\r\n  const controlRemoveFromMeal = () => model.moveMeal(mealData);\r\n  const controlAddToMeal = () => model.moveMeal(mealData);\r\n\r\n  const handleClick = {\r\n    \"meal-edit\": controlEditMeal,\r\n    \"meal-bin\": controlDeleteMeal,\r\n    \"meal-remove\": controlRemoveFromMeal,\r\n    \"meal-add\": controlAddToMeal\r\n  };\r\n\r\n  handleClick[operation]();\r\n\r\n  renderMeals();\r\n};\r\n\r\nconst controlUpdateMeal = function (mealData) {\r\n  model.editMeal(mealData);\r\n\r\n  editMealView.renderMessage();\r\n\r\n  renderMeals();\r\n};\r\n\r\nconst controlGetMealsNutrition = function () {\r\n  // Get total nutrition value of all meals\r\n  // Render mealsNutritionView\r\n};\r\n\r\nconst controlGetComparison = function () {\r\n  // Compare userNutrition data with mealsNutrition data and show results\r\n};\r\n\r\nconst renderMeals = function () {\r\n  selectedMealsView.render(model.state.meals.selectedMeals);\r\n  unselectedMealsView.render(model.state.meals.unselectedMeals);\r\n};\r\n\r\nconst init = function () {\r\n  mealsView.addHandlerRender(controlMeals);\r\n  mealsView.addHandlerGetNutrition(controlGetNutrition);\r\n  addCaloriesView.addHandlerAddCalories(controlAddCalories);\r\n  mealsView.addHandlerControls(controlOperations);\r\n  editMealView.addHandlerUpdateMeal(controlUpdateMeal);\r\n  addMealView.addHandlerCreateMeal(controlCreateMeal);\r\n};\r\n\r\ninit();\r\n"],"names":["$0f1d4402dffacf5b$export$ca000e230c0caa3e","allNutrition","userNutrition","mealsNutrition","totalNutrition","meals","selectedMeals","unselectedMeals","id","ingredientList","$0f1d4402dffacf5b$var$nutrObj","calories","protein","fat","carbohydrates","fiber","sugar","sodium","cholesterol","iron","potassium","calcium","vitamin_d","$0f1d4402dffacf5b$export$ab4c5466700c534e","mealData","mealDataArr","split","Number","substring","objectIndex","findIndex","meal","push","splice","$0f1d4402dffacf5b$var$persistMeals","$0f1d4402dffacf5b$var$persistUserNutrition","localStorage","setItem","JSON","stringify","$0f1d4402dffacf5b$var$groupBy","arr","key","sort","a","b","localeCompare","reduce","total","currentValue","newTotal","length","amount","storedUserNutrition","getItem","parse","storedMeals","$0f1d4402dffacf5b$var$init","data","render","Array","isArray","this","renderError","setData","markup","getMarkup","clear","getParentElement","insertAdjacentHTML","update","newMarkup","newDOM","document","createRange","createContextualFragment","newElements","from","querySelectorAll","curElements","forEach","newEl","i","curEl","isEqualNode","firstChild","nodeValue","trim","textContent","attributes","attr","setAttribute","name","value","innerHTML","renderSpinner","message","getErrorMessage","renderMessage","getMessage","getMessageDiv","classList","toggle","setTimeout","getData","$d34e7265e15cd6a1$export$2e2bcd8739ae039","$b2d7157267813d3a$export$2e2bcd8739ae039","errorMessage","parentElement","getElementById","super","addHandlerRender","handler","window","addEventListener","addHandlerGetNutrition","addHandlerControls","e","target","contains","closest","dataset","generateMarkup","overlay","btnOpen","btnClose","messageDiv","inputMealName","inputServings","inputIngredients","searchParamsStr","addHandlerShowWindow","addHandlerHideWindow","toggleWindow","bind","addHandlerCreateMeal","preventDefault","formData","FormData","searchParams","URLSearchParams","pair","append","$49c6e9c6db51bd8b$export$2e2bcd8739ae039","mealId","toString","searchParamsStrArr","$f0f6846740baef3f$export$2e2bcd8739ae039","openWindow","mealName","replaceAll","servings","ingredients","map","ingredient","join","addHandlerUpdateMeal","$66241bd1e46e4b57$export$2e2bcd8739ae039","getMealMarkup","generateMealMarkup","$2297c3e85b0b04f1$export$2e2bcd8739ae039","$dddbd0b30676c4ae$export$2e2bcd8739ae039","drawChart","google","charts","load","packages","setOnLoadCallback","visualization","arrayToDataTable","PieChart","draw","pieHole","backgroundColor","chartArea","width","height","legend","position","alignment","generateRowMarkup","userReqAmount","nutrient","unit","mealsAmount","$1e2785d5691b2eac$export$2e2bcd8739ae039","$7f03367323b44c93$export$2e2bcd8739ae039","addHandlerAddCalories","inputCalories","$f50bd1f2915ed0f2$var$addMealView","$f50bd1f2915ed0f2$var$controlAddCalories","proteinLow","toFixed","proteinHigh","console","log","fibre","carbsLow","carbsHigh","$0f1d4402dffacf5b$export$a2b0ee75bd457fcb","$f50bd1f2915ed0f2$var$controlMeals","$f50bd1f2915ed0f2$var$renderMeals","$f50bd1f2915ed0f2$var$controlCreateMeal","at","$0f1d4402dffacf5b$export$8cf4c0528e25d128","$f50bd1f2915ed0f2$var$controlGetNutrition","async","ingreArray","String","res","fetch","method","body","json","nutrition","nutrients","Object","hasOwn","toLowerCase","replace","error","alert","$0f1d4402dffacf5b$export$40a8fc81c5c0cddf","$f50bd1f2915ed0f2$var$controlOperations","operation","handleClick","$0f1d4402dffacf5b$export$3e3e9ee5cd19fbd2","$f50bd1f2915ed0f2$var$controlUpdateMeal","$0f1d4402dffacf5b$export$eb1f16719edf2200"],"version":3,"file":"index.46054f1f.js.map"}